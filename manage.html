<!DOCTYPE html>
<html>

<head>
    <style type="text/css">
        .page-header {
            padding-bottom: 9px;
            margin: 72px 0 20px !important;
            border-bottom: 1px solid #eee;
        }
        
        .col-xs-6 {
            width: 50%;
            margin-bottom: 5px;
            margin-top: 10px;
        }
        
        #rowAddBtn {
            margin-bottom: 10px;
        }
        
        #btnCancel {
            margin-left: 5px;
        }
    </style>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Tím Soft version 2.2 Pre</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <script type="text/javascript" src="https://rawgit.com/glorynguyen/briefcasejs/master/src/briefcase.min.js">
    </script>
    <script src="https://googledrive.com/host/0B8MCaX54ZLjbd28wdU81OEc3aVE"></script>
    <script src="https://googledrive.com/host/0B8MCaX54ZLjbN0g2Yk1wNVBGeHc"></script>
    <script src="https://googledrive.com/host/0B8MCaX54ZLjbM1F0SnlUZlFJTm8"></script>
    <script type="text/javascript" src="https://rawgit.com/glorynguyen/briefcasejs/master/src/briefcase.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.blockspring.com/blockspring.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/table_googlesheet.js"></script>
    <!--<script type="text/javascript" src="js/authorization.js"></script> -->
</head>

<body onload="onLoad()" role="document">
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
            <a class="navbar-brand" href="http://glorynguyen.github.io/">
                <img src="images/tim-logo.jpg" alt="Tím store" width="42" height="42" border="0" style="margin-top: -10px;border-radius: 50%;">
            </a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li ><a href="sell.html"> <span class="glyphicon glyphicon-user"></span> Hóa đơn</a></li>
                    <li class="active"><a href="manage.html"> <span class="glyphicon glyphicon-list"></span> Quản lý</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="active">
                        <fb:login-button scope="public_profile,email" show_faces='true' onlogin="checkLoginState();" id="btnLogin">
                        </fb:login-button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="starter-template">
            <h1 id="test" show=f alse>Bảng kê</h1>
            <input id="dateFilter" type="date" name="day">
            <button onclick="filterData()">Lọc</button>
            <div id="alert" class="alert alert-info" style="margin-top: 10px" role="alert">
                <strong>Đang tải dữ liệu</strong>
            </div>
            <div id="generateAuto" class="col-md-12"></div>
        </div>
    </div>
</body>
<script>
    function onLoad() {
        /*var p1 = new Promise(
            // The resolver function is called with the ability to resolve or
            // reject the promise
            function(resolve, reject) {
                // This is only an example to create asynchronism
                checkLoginState(resolve, reject);
            }
        );
        p1.then(
            function() {
                showTablePromise('1IBpKFjcPYoZlfYjFaEn6UYnI5cKT5OhhX2-qobJYghw');
            }
        );*/
        showTablePromise();
        

    }

    function showTablePromise() {
        var p2 = new Promise (function (resolve, reject){
            showTable('1IBpKFjcPYoZlfYjFaEn6UYnI5cKT5OhhX2-qobJYghw', resolve, reject);
        });
        p2.then(function() {
            var alertField = document.getElementsByClassName("alert alert-info")[0];
            alertField.setAttribute('class', 'alert alert-success');
            alertField.getElementsByTagName('strong')[0].innerHTML = "Tải dữ liệu thành công";
            // debugger;
        }).catch(
        // Log the rejection reason
        function(reason) {
            var alertField = document.getElementsByClassName("alert alert-info")[0];
            alertField.setAttribute('class', 'alert alert-danger');
            alertField.getElementsByTagName('strong')[0].innerHTML = "Tải dữ liệu thất bại";
            console.log(reason);
        });
    }
 </script>
</html>